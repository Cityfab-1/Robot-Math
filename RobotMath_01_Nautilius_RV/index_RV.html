<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Text-To-Speech Demo</title>
    <link
      href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="px-8 text-gray-900 min-h-screen flex bg-gray-200">
      <div class="w-full max-w-screen-lg mx-auto my-8">
        <h1 class="text-3xl font-bold text-center">Demo for text to speech</h1>
        <div class="m-4 text-center">
          <!-- Introduction Speech Button-->

          <div class="m-2">
            <button
              class="w-full border border-transparent rounded font-semibold text-sm px-5 py-2 focus:outline-none focus:shadow-outline bg-blue-500 text-gray-100 hover:bg-blue-600 hover:text-gray-200"
              onclick="responsiveVoice.speak('hello there, welcome to my digital garden!');"
            >
              Play Here for Welcome Speech!
            </button>
          </div>

          <!--Speech Button with Background Music-->

          <audio
            loop="false"
            width="0"
            height="0"
            id="sound"
            src="https://audionautix.com/Music/CryinInMyBeer.mp3"
            type="audio/mp3"
          ></audio>

          <div class="m-2">
            <button
              class="w-full border border-transparent rounded font-semibold text-sm px-5 py-2 focus:outline-none focus:shadow-outline bg-blue-500 text-gray-100 hover:bg-blue-600 hover:text-gray-200"
              onclick="responsiveVoice.speak('This example shows how to have audio play as a background while text-to-speech is active'); 
              document.getElementById('sound').play();"
            >
              Play With Background Music
            </button>
          </div>
        </div>

        <!--Highlight Text to Speech Demo-->

        <div class="m-8">
          <div class="bg-gray-100 shadow-sm rounded-lg p-8">
            <h4 class="text-center font-semibold">
              Highlight this text below to hear:
            </h4>

            <p class="text-center">
              Dear Mother <br />
              Dear mother, <br />
              your love is special, <br />
              I cannot help but show. <br />
              Like flowers in a garden, <br />
              Your love makes me grow. <br />
              â€” Author Unknown
            </p>
          </div>
        </div>

        <!--Write Text to Speech-->

        <script src="https://code.responsivevoice.org/responsivevoice.js?key=pqQI3QTE"></script>
        <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>

        <div class="m-4 text-center">
          <div class="m-2">
            <textarea
              class="w-full border bg-gray-100 px-4 py-2 text-sm tracking-wide focus:outline-none focus:shadow-outline rounded"
              id="text"
              cols="45"
              rows="3"
            >
        Hello world
        </textarea
            >
          </div>

          <div class="m-2">
            <select
              class="w-full border bg-gray-100 px-4 py-2 text-sm tracking-wide focus:outline-none focus:shadow-outline rounded"
              id="voiceselection"
            ></select>
          </div>

          <div class="m-2">
            <input
              class="w-full border border-transparent rounded font-semibold tracking-wide text-sm px-5 py-2 focus:outline-none focus:shadow-outline bg-blue-500 text-gray-100 hover:bg-blue-600 hover:text-gray-200"
              onclick="responsiveVoice.speak($('#text').val(),$('#voiceselection').val());"
              type="button"
              value="Play"
            />
          </div>
        </div>

        <script>
          var voicelist = responsiveVoice.getVoices();
          var vselect = $("#voiceselection");
          $.each(voicelist, function () {
            vselect.append($("<option />").val(this.name).text(this.name));
          });
        </script>
      </div>
    </div>

    <!--Highligh Text to Speech Script-->

    <script>
      function getSelectionText() {
        var text = "";
        if (window.getSelection) {
          text = window.getSelection().toString();
        } else if (document.selection && document.selection.type != "Control") {
          text = document.selection.createRange().text;
        }
        return text;
      }
      $(document).ready(function () {
        $(document).mouseup(function (e) {
          setTimeout(function () {
            responsiveVoice.cancel(); // stop anything currently being spoken
            responsiveVoice.speak(getSelectionText());
          }, 1);
        });
      });
    </script>
  </body>
</html>
